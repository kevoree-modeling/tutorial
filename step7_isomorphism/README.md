Step 7: Isomorphic JavaScript API
======================

This step of the tutorial explains isomorphism and how KMF provides isomorphic models for Java and JavaScript.

Isomorphism
-------------
Isomorphic models are models of different languages which use the same API.
This has the advantage that the same model can be used on different platforms. 
For example, a JavaScript model can be used in the browser and a Java model in the backend. 
Since the models provide the same API code can on the one hand easily be ported and the other hand it makes the interaction between different platforms, .e.g., client/server, easier. 
Currently, KMF provides support for Java and JavaScript.
KMFs generate can be extended to support additional languages if needed. 

Isomorphic JavaScript API
-------------
JavaScript code is not directly generated by the KMF generator.
Instead, the generated Java code is first transpiled to TypeScript and then to JavaScript. 
To generate JavaScript code, first, a maven dependency to the corresponding plugin must be added:
 
```java
<dependency>
    <groupId>org.kevoree.modeling</groupId>
    <artifactId>org.kevoree.modeling.java2typescript.runtime</artifactId>
    <version>${java2typescript.plugin.version}</version>
</dependency>
```

Next, the plugin must be configured:
```java
            <plugin>
                <groupId>org.kevoree.modeling</groupId>
                <artifactId>org.kevoree.modeling.java2typescript.mavenplugin</artifactId>
                <version>${java2typescript.plugin.version}</version>
                <executions>
                    <execution>
                        <id>compile-src</id>
                        <goals>
                            <goal>generate</goal>
                        </goals>
                        <configuration>
                            <source>${basedir}/../step7_isomorphism/src/main/java</source>
                            <target>${basedir}/target/generated-sources</target>
                            <targetJS>${basedir}/target/classes</targetJS>
                        </configuration>
                    </execution>
                    <execution>
                        <id>compile-test</id>
                        <goals>
                            <goal>generate</goal>
                        </goals>
                        <configuration>
                            <source>${basedir}/../tutorial/step7_isomorphism/src/test/java</source>
                            <target>${basedir}/target/generated-test-sources</target>
                            <targetJS>${basedir}/target/test-classes</targetJS>
                            <flatJUnit>true</flatJUnit>
                            <libraries>
                                <library>${basedir}/target/classes</library>
                            </libraries>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
```