package kmfsample;

import org.junit.Assert;
import org.junit.Test;

import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;

public class ExpectedResultTest {

    StringBuffer buffer = new StringBuffer();

    @Test
    public void testOutput() {

        PrintStream out = System.out;
        PrintStream err = System.err;

        System.setOut(new PrintStream(new OutputStream() {
            @Override
            public void write(int b) throws IOException {
                buffer.append((char) b);
            }
        }));
        System.setErr(new PrintStream(new OutputStream() {
            @Override
            public void write(int b) throws IOException {
                buffer.append(b);
            }
        }));
        App.main(null);

        //Wait all callback end
        try {
            Thread.sleep(500);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.setOut(out);
        System.setErr(err);
        
        //Assert.assertEquals("4.0654810894541615\n" + "1069711897461089711010346651141149712173110100101120791171167910266111117110100115691209910111211610511111058325410997116321111141034610710111811111410110146109111100101108105110103461091011091111141214699104117110107461051091121084672101971127998106101991166710411711010746115101116681111179810810165114114971216910810110940721019711279981061019911667104117110107461069711897585248544110997116321111141034610710111811111410110146109111100101108105110103461011201161149711211110897116105111110461051091121084680111108121110111109105971086912011611497112111108971161051111104610511011510111411640801111081211101111091059710869120116114971121111089711610511111046106971189758494952411099711632111114103461071011181111141011014610911110010110810511010346101120116114971121111089711610511111046105109112108468011110812111011110910597108691201161149711211110897116105111110461091171169711610140801111081211101111091059710869120116114971121111089711610511111046106971189758495457411099711632111114103461071011181111141011014610911110010110810511010346979811546659811511611497991167579981061019911646115101116406598115116114979911675799810610199116461069711897584954524110997116321151099711411699105116121461051091121084668105115116114105991167310911210846115101116691081019911611410599105116121671111101151171091121161051111104068105115116114105991167310911210846106971189758495541109971163210710910211597109112108101466511211246108971099810097361101171081083650406511211246106971189758544841109971163210710910211597109112108101466511211236367697109981009736524749534956545551565751461111104085110107110111119110328311111711499101411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114364936493649364936494611111040681051151161111141161011008410510910182101115111108118101114461069711897585651411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114364936493649364936494611111040681051151161111141161011008410510910182101115111108118101114461069711897585550411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114461031011167911476111971006511010077971141074068105115116111114116101100841051091018210111511110811810111446106971189758535357411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114364936493649364946111110406810511511611111411610110084105109101821011151111081181011144610697118975855504110997116321111141034610710111811111410110146109111100101108105110103461091011091111141214611410111511110811810111446105109112108466810511511611111411610110084105109101821011151111081181011143649364936493649461111104068105115116111114116101100841051091018210111511110811810111446106971189758535441109971163211111410346107101118111114101101461091111001011081051101034610910110911111412146114101115111108118101114461051091121084668105115116111114116101100841051091018210111511110811810111446103101116791147611197100651101007797114107406810511511611111411610110084105109101821011151111081181011144610697118975853535741109971163211111410346107101118111114101101461091111001011081051101034610910110911111412146114101115111108118101114461051091121084668105115116111114116101100841051091018210111511110811810111436493649364946111110406810511511611111411610110084105109101821011151111081181011144610697118975853544110997116321111141034610710111811111410110146109111100101108105110103461091011091111141214611410111511110811810111446105109112108466810511511611111411610110084105109101821011151111081181011143649364936494611111040681051151161111141161011008410510910182101115111108118101114461069711897585256411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114461031011167911476111971006511010077971141074068105115116111114116101100841051091018210111511110811810111446106971189758535357411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114364936494611111040681051151161111141161011008410510910182101115111108118101114461069711897585256411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114364936494611111040681051151161111141161011008410510910182101115111108118101114461069711897585252411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114461031011167911476111971006511010077971141074068105115116111114116101100841051091018210111511110811810111446106971189758535357411099711632111114103461071011181111141011014610911110010110810511010346109101109111114121461141011151111081181011144610510911210846681051151161111141161011008410510910182101115111108118101114364946114117110406810511511611111411610110084105109101821011151111081181011144610697118975852524110997116321069711897461171161051084699111110991171141141011101164669120101991171161111141153682117110110979810810165100971121161011144699971081084069120101991171161111141154610697118975853494941109971163210697118974611711610510846991111109911711411410111011646701171161171141018497115107461141171104070117116117114101849711510746106971189758505454411099711632106971189746117116105108469911111099117114114101110116468410411410197100801111111086912010199117116111114461141171108711111410710111440841041141019710080111111108691201019911711611111446106971189758494952504110997116321069711897461171161051084699111110991171141141011101164684104114101971008011111110869120101991171161111143687111114107101114461141171104084104114101971008011111110869120101991171161111144610697118975854495541109971163210697118974610897110103468410411410197100461141171104084104114101971004610697118975855525241102.638494233380669", buffer.toString());

        System.out.println(buffer.toString());
    }

}
